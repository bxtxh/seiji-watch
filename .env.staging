# Staging Environment Configuration
# This file is used for staging deployments

# Database Configuration (Cloud SQL)
DATABASE_URL=postgresql://seiji_watch_user:${DB_PASSWORD}@/seiji_watch?host=/cloudsql/${CLOUD_SQL_CONNECTION_NAME}
DB_HOST=/cloudsql/${CLOUD_SQL_CONNECTION_NAME}
DB_PORT=5432
DB_NAME=seiji_watch
DB_USER=seiji_watch_user
# DB_PASSWORD is set via Secret Manager

# Redis Configuration (Memorystore)
REDIS_URL=redis://${REDIS_HOST}:6379
# REDIS_HOST is set via deployment configuration

# =============================================================================
# CRITICAL: API KEYS AND SECRETS - MANAGED VIA SECRET MANAGER
# =============================================================================

# OpenAI Configuration (Staging)
# OPENAI_API_KEY is set via Secret Manager
# OPENAI_ORG_ID is set via Secret Manager

# Airtable Configuration (Staging)
# AIRTABLE_API_KEY is set via Secret Manager
# AIRTABLE_BASE_ID is set via deployment configuration
# AIRTABLE_WORKSPACE_ID is set via deployment configuration

# Weaviate Cloud Configuration (Staging)
# WEAVIATE_URL is set via deployment configuration
# WEAVIATE_API_KEY is set via Secret Manager

# Google Cloud Configuration (Staging)
GOOGLE_CLOUD_PROJECT=gen-lang-client-0458605339
# GOOGLE_APPLICATION_CREDENTIALS is managed by Workload Identity
GCS_BUCKET_NAME=diet-tracker-staging-storage

# JWT Configuration (Staging)
# JWT_SECRET_KEY is set via Secret Manager
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30

# API Configuration (Staging)
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=2

# Frontend Configuration (Staging)
NEXT_PUBLIC_API_URL=https://api-gateway-staging-fpf7tvhqeq-an.a.run.app
NEXT_PUBLIC_APP_NAME=Diet Issue Tracker (Staging)

# Staging Configuration
DEBUG=false
LOG_LEVEL=INFO
ENVIRONMENT=staging

# Rate Limiting (Staging)
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# Scraping Configuration (Staging)
SCRAPING_DELAY_SECONDS=2
SCRAPING_MAX_RETRIES=3
SCRAPING_TIMEOUT_SECONDS=30

# STT Configuration (Staging)
WHISPER_MODEL=large-v3
WHISPER_LANGUAGE=ja
STT_BATCH_SIZE=10